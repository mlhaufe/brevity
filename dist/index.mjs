/*! For license information please see index.mjs.LICENSE.txt */
var t={515:function(t){t.exports=function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){var n,o,s=this&&this.__classPrivateFieldSet||function(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r},i=this&&this.__classPrivateFieldGet||function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};Object.defineProperty(e,"__esModule",{value:!0});const a=Symbol("noEntry");class c{constructor(t){n.set(this,a),o.set(this,new Map),null==t||t.forEach((t=>this.set(...t)))}*[(n=new WeakMap,o=new WeakMap,Symbol.iterator)](){const t=[];this.forEach(((e,r)=>t.push([r,e])));for(const e of t)yield e}clear(){s(this,n,a),i(this,o).clear()}delete(...t){if(0==t.length)return i(this,n)!==a&&(s(this,n,a),!0);{const[e,r]=[t[0],t.slice(1)];return!!i(this,o).has(e)&&i(this,o).get(e).delete(...r)}}*entries(){const t=[];this.forEach(((e,r)=>t.push([r,e])));for(const e of t)yield e}forEach(t,e){this._forEach([],t,e)}get(...t){if(0==t.length)return i(this,n)===a?void 0:i(this,n);{const[e,r]=[t[0],t.slice(1)];return i(this,o).has(e)?i(this,o).get(e).get(...r):void 0}}has(...t){if(0==t.length)return i(this,n)!==a;{const[e,r]=[t[0],t.slice(1)];return!!i(this,o).has(e)&&i(this,o).get(e).has(...r)}}*keys(){const t=[];this.forEach(((e,r)=>t.push(r)));for(const e of t)yield e}set(...t){const[e,r]=t.length<=1?[[],t[0]]:[t.slice(0,-1),t[t.length-1]];if(0==e.length)s(this,n,r);else{const[t,n]=[e[0],e.slice(1)];if(i(this,o).has(t))i(this,o).get(t).set(...n,r);else{const e=new c;e.set(...n,r),i(this,o).set(t,e)}}return this}get size(){let t=0;return this.forEach((()=>t++)),t}toString(){return[...this].map((t=>{const[e,r]=t.length<=1?[[],t[0]]:[t.slice(0,-1),t[t.length-1]];return`[${e.join()}]:${r}`})).join(";")}*values(){const t=[];this.forEach((e=>t.push(e)));for(const e of t)yield e}_forEach(t,e,r){i(this,n)!==a&&e.call(null!=r?r:this,i(this,n),t,this),i(this,o).forEach(((n,o)=>{n._forEach([...t,o],e,r)}))}}e.default=c}]).default}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var s=e[n]={exports:{}};return t[n].call(s.exports,s,s.exports,r),s.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var n={};(()=>{r.d(n,{Vw:()=>l,av:()=>y,$6:()=>h,nn:()=>u,a:()=>a,b:()=>c,o0:()=>m});const t=t=>null!==t&&Object.getPrototypeOf(t)===Object.prototype,e=t=>"string"==typeof t&&t.match(/^[A-Z][A-Za-z0-9]*$/),o=t=>"string"==typeof t&&t.match(/^[a-z][A-Za-z0-9]*$/);function s(r){if(!t(r))throw new TypeError("variants declaration must be an object literal");for(const[n,s]of Object.entries(r)){if(!e(n))throw new TypeError(`variant name must be capitalized: ${n}`);if(!Array.isArray(s))throw new TypeError(`variant properties must be an array: ${n}`);if(!s.every(o))throw new TypeError(`variant properties must be camelCase strings: ${n}: ${s}`);if(new Set(s).size!==s.length)throw new TypeError(`type parameters must be unique: ${n}: ${s}`);0===s.length?r[n]=Object.freeze(Object.assign(Object.create(null),{[i]:n,[c]:!0})):(r[n]=function(...e){const o=Object.create(r[n].prototype),i=e[0];if(1===e.length&&t(i)){if(Object.keys(i).length>s.length)throw new TypeError(`too many parameters. expected: ${n}: ${s}, got: ${n}: ${Object.keys(i)}`);for(const t of s){if(!(t in i))throw new TypeError(`missing parameter: ${t}`);"function"==typeof i[t]?Object.defineProperty(o,t,{get:i[t],enumerable:!0}):o[t]=i[t]}}else{if(e.length!==s.length)throw new TypeError(`wrong number of parameters: ${n}: ${s}`);e.forEach(((t,e)=>{"function"==typeof t?Object.defineProperty(o,s[e],{get:t,enumerable:!0}):o[s[e]]=t}))}return Object.seal(o)},r[n].prototype=Object.freeze({[i]:n,[c]:!1}))}return r[a]=!0,Object.freeze(r)}const i=Symbol("typeName"),a=Symbol("isData"),c=Symbol("isSingleton");function l(t,e){let r;if(t&&e){if(!t[a])throw new TypeError("Base must be a Data type");r=Object.assign({},t,s(e))}else{if(!t||e)throw new TypeError("Data requires at least one argument");r=s(t)}return Object.freeze(r)}const f=Symbol("isTrait"),h=Symbol("all"),u=Symbol("apply"),p=()=>{};function y(...t){const{baseTrait:e,traits:r}=1===t.length?{traits:t[0]}:{baseTrait:t[0],traits:t[1]};let n=(...t)=>n[u](...t);if(e&&r){if(!e[f])throw new TypeError(`baseTrait must be a Trait: ${e}`);if("object"!=typeof r||Array.isArray(r))throw new TypeError("traits must be an object literal");Reflect.setPrototypeOf(n,e)}else{if(e||!r)throw new TypeError("Trait must be called with at least 2 arguments");if("object"!=typeof r||Array.isArray(r))throw new TypeError("traits must be an object literal");Reflect.setPrototypeOf(n,p)}Object.assign(n,r);for(const[t,e]of Object.entries(n))if("function"!=typeof e)throw new TypeError(`trait must be a function: ${t}`);return n}p[f]=!0,p[u]=function(t,...e){const r=t[i],n=this[r]??this[h];if(!n)throw new TypeError(`no trait defined for ${r}`);return n.call(this,t,...e)};var b=r(515);const g=Symbol("visited"),m=(t,e)=>y(t,{[g]:new b,[u](...r){const n=this[g];return n.has(...r)||(n.set(...r,"function"==typeof e?e(...r):e),n.set(...r,t[u].apply(this,r))),n.get(...r)}})})();var o=n.Vw,s=n.av,i=n.$6,a=n.nn,c=n.a,l=n.b,f=n.o0;export{o as Data,s as Trait,i as all,a as apply,c as isData,l as isSingleton,f as memoFix};
//# sourceMappingURL=index.mjs.map